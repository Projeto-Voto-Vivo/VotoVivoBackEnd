generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
	url      = env("DATABASE_URL")
}

model Deputado {
  id                  Int       @id @map("idDeputado")
  nomeCivil           String    @map("nomeCivil") @db.VarChar(200)
  cpf                 String?   @unique @map("cpf") @db.VarChar(14)
  sexo                String?   @map("sexo") @db.Char(1)
  dataNascimento      DateTime? @map("dataNascimento") @db.Date
  ufNascimento        String?   @map("ufNascimento") @db.Char(2)
  municipioNascimento String?   @map("municipioNascimento") @db.VarChar(100)
  escolaridade        String?   @map("escolaridade") @db.VarChar(100)
  uriDetalhes         String?   @map("urlDetalhes") @db.VarChar(300)
  urlWebsite          String?   @map("urlWebsite") @db.VarChar(300)
  dataFalecimento     DateTime? @map("dataFalecimento") @db.Date

  statusHistorico Historico[]
  despesas        Despesa[]
  redesSociais    RedeSocial[]

  @@map("Deputado")
}

model Historico {
  id                Int       @id @default(autoincrement()) @map("idHistorico")
  idDeputado        Int       @map("idDeputado")
  idPartido         Int       @map("idPartido")
  idGabinete        Int       @map("idGabinete")
  
  uriHistorico      String?   @map("uriHistorico") @db.VarChar(200)
  condicaoEleitoral String?   @map("condicaoEleitoral") @db.VarChar(100)
  urlFoto           String?   @map("urlFoto") @db.VarChar(100)
  emailHistorico    String?   @map("emailHistorico") @db.VarChar(100)
  data              DateTime? @map("dataHistorico") @db.Date
  descricaoStatus   String?   @map("descricaoStatus") @db.VarChar(300)
  nomeParlamentar   String?   @map("nomeParlamentar") @db.VarChar(200)
  situacao          String?   @map("situacao") @db.VarChar(100)
  nomeEleitoral     String?   @map("nomeEleitoral") @db.VarChar(200)
  uf                String?   @map("siglaUF") @db.Char(2)

  deputado Deputado @relation(fields: [idDeputado], references: [id])
  partido  Partido  @relation(fields: [idPartido], references: [id])
  gabinete Gabinete @relation(fields: [idGabinete], references: [id])

  @@map("Historico")
}

model Partido {
  id           Int     @id @default(autoincrement()) @map("idPartido")
  siglaPartido String? @map("siglaPartido") @db.VarChar(300)
  uriPartido   String? @map("uriPartido") @db.VarChar(200)
  nome         String? @map("nome") @db.VarChar(300)

  historicos Historico[]

  @@map("Partido")
}

model Gabinete {
  id            Int     @id @default(autoincrement()) @map("idGabinete")
  andar         String? @map("andar") @db.VarChar(10)
  emailGabinete String? @map("emailGabinete") @db.VarChar(150)
  nomeGabinete  String? @map("nomeGabinete") @db.VarChar(200)
  predio        String? @map("predio") @db.VarChar(100)
  sala          String? @map("sala") @db.VarChar(10)
  telefone      String? @map("telefone") @db.VarChar(20)

  historicos Historico[]

  @@map("Gabinete")
}

model Despesa {
  idDeputado        Int      @map("idDeputado")
  codDocumento      Int      @map("codDocumento")
  
  ano               Int?     @map("ano")
  mes               Int?     @map("mes") @db.TinyInt
  cnpjCpfFornecedor String?  @map("cnpjCpfFornecedor") @db.VarChar(20)
  nomeFornecedor    String?  @map("nomeFornecedor") @db.VarChar(200)
  dataDocumento     DateTime? @map("dataDocumento") @db.Date
  numRessarcimento  String?  @map("numRessarcimento") @db.VarChar(50)
  parcela           String?  @map("parcela") @db.VarChar(20)
  tipoDespesa       String?  @map("tipoDespesa") @db.VarChar(200)
  tipoDocumento     String?  @map("tipoDocumento") @db.VarChar(200)
  urlDocumento      String?  @map("urlDocumento") @db.VarChar(300)
  valorDocumento    Decimal? @map("valorDocumento") @db.Decimal(10, 2)
  valorGlosa        Decimal? @map("valorGlosa") @db.Decimal(10, 2)
  valorLiquido      Decimal? @map("valorLiquido") @db.Decimal(10, 2)
  
  deputado          Deputado @relation(fields: [idDeputado], references: [id])

  @@id([idDeputado, codDocumento])
  @@map("Despesa")
}

model RedeSocial {
  id             Int    @id @default(autoincrement()) @map("idRede")
  idDeputado     Int    @map("idDeputado")
  linkRedeSocial String @map("linkRedeSocial") @db.VarChar(300)

  deputado Deputado @relation(fields: [idDeputado], references: [id])

  @@map("RedeSocial")
}
